<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Lab 2 | COMP1073 Client-Side JavaScript</title>
</head>

<body>
	<h1>Airports</h1>
	<ul>
			<li>Beijing Capital International, https://goo.gl/maps/iPe5fAqzq8C2</li>
			<li>John F Kennedy International, https://goo.gl/maps/JWwABmA3MBS2</li>
			<li>Lester B. Pearson International, https://goo.gl/maps/Ypu1dJLsnQu</li>
			<li>London Heathrow, https://goo.gl/maps/TFx8SrATdYr</li>
			<li>Tokyo Haneda International, https://goo.gl/maps/5UxH2TxbRtT2</li>
	</ul>
	<img src="airplane.png" alt="airplane" height="250" width="800">
	<p><small>Image credit: <a href="https://openclipart.org/detail/141961/airplane" rel="external">https://openclipart.org/detail/141961/airplane</a></small></p>
	<script>
		// Get all the list items for the various airports
		const airportListItems = document.getElementsByTagName('li');
		// Create a new array to hold just the text in the list items
		let airports = new Array();
		// Loop through the list items, and for each one, extract the text and add it to the airports array
		for(let i = 0; i < airportListItems.length; i++) {
			airports.push(airportListItems[i].textContent);
		}
		// Delete all the existing list items so we can create new ones
		const airportUL = document.querySelector('body ul');
		airportUL.innerHTML = '';
		// Loop through the airports array
		for(let i = 0; i < airports.length; i++) {
			let input = airports[i];
			/* LAB 2: Put your own code here (don't touch any other parts of the code)â€¦
			-------------------------------------------------- */
			// 1. Find the character index of the comma (use the above variable, input), and assign it to a variable called commaLocation
			let commaLocation = input.indexOf(",")
			
			// 2. Obtain the full name of the airport using the comma character index number as a reference point, and store it in a new variable (called airportName)
			let airportName = input.slice(0, commaLocation)
			// 3. Get the Google Maps URL from the string, using the character index number of the comma (use above var, commaLocation), and store it as a variable, called googleUrl
			let googleUrl = input.slice(commaLocation + 1)
			// 4. Build a new string that is an HTML hyperlink, using the Google Maps URL (googleUrl) as the href, and the airport name as the text for the anchor element, and set it as the value of the result variable (var result = ...) (hint - use concatenation to build out each part of the HTML anchor element, taking care to use the right quotes)
			// For example, we are looking to build <a href="https://goo.gl/maps/iPe5fAqzq8C2">Beijing Capital International</a> as the string
			let result = `<a href="${googleUrl}" target="_blank">${airportName}</a>`
			/* ----------------------------------------------- */
			// Create a new list item element
			let listItem = document.createElement('li');
			// Inject the new anchor element inside the list item element
			listItem.innerHTML = result;
			airportUL.appendChild(listItem);
		}
	</script>
</body>
</html>
